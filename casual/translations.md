# Преводи

Ако желаете да промените езика на приставката, Quests има много файлове за локализация, които се намират в /plugins/Quests/lang/**ISO**/string.yml по подразбиране, където "**ISO**" представлява вашия предпочитан [езиков код](https://support.crowdin.com/api/language-codes/). Осигурени са преводи [чрез Crowdin](https://crowdin.com/project/translate-quests), платформа, където всеки може да допринесе, като Английският (en-US) е изходния език.

Можете да избере езика по избор за вашия сървър, като промените [езиковия код](https://support.crowdin.com/api/language-codes/) стойност на `language` в [config.yml](https://pikamug.gitbook.io/quests/setup/configuration#config.yml). Ако конкретен низ/изречение не е локализиран, той ще бъде на английски по подразбиране. За да избегнете това, можете да редактирате файла strings.myl директно или [допринесете за превод в Crowdin](https://crowdin.com/project/translate-quests).

{% hint style="info" %}
**Професионален съвет:** Определени опции на менюто може да са трудни за използване в резултат на краудсорсинг локализация. Задаването на конфигурационната стойност на 'ask-confirmation' на 'false' може да помогне за минимизиране на тези проблеми.
{% endhint %}

### Разглеждане

Отварянето на файл string.yml, който съдържа неанглийски знаци на английски компютър, може да не покаже тези знаци правилно. В случая с Windows това е така, защото Windows на английски използва набора от символи ANSI, докато предпочитаният формат е UTF-8. За съжаление Windows прави това трудно да се промени, затова препоръчваме програма за редактиране, която поддържа UTF-8 [Notepad++](https://notepad-plus-plus.org/) е популярен избор.

### Актуализации

Нови езикови низове понякога ще се добавят към отделен файл в същата папка като избрания от вас езиков файл, когато актиализирате Quests. Този файл ще бъде наименуван подобно на текущия ви файл, но с "\_new", добавен в края на името (например "en-US/strings\_new.yml" или "fr-FR/strings\_new.yml"). Просто копирайте низовете от този нов файл в текущия.

Ако не сте редактирали езиковия файл по подразбиране, можете също просто да изтриете файла и да позволите на Quests да създаде нов с актиализираните низове при следващото стартиране на сървъра.

### Редактиране

Първо, знайте че всеки низ е напревен от "ключ" и "стойност". "Ключът" помага на плъгина да знае за какво да използва низа и е показан по-долу с **BOLD**. "Стойността" е частта в кавички, която вашите потребители ще видят и обикновено може да бъде преведена. Показано е в _ITALIC_

> **COMMAND\_LIST\_HELP:** "`<command>` _\[page] - List available Quests_"

Забележете, че '' не е нито **BOLD**, нито _ITALIC_. Това е така, защото въпреки, че е част от стойността, обикновено не трябва да се редактира. Quests замества тази част от стойността с нещо важно, в този случай команда на играч.

За да се затвърдите, ето няколко съвета, които да следвате, когато редактирате езиков файл:

* **Запазете** двойните кавички в краищата на всяка стоиност.
* **Чувствайте се свободни** да използвате обикновени сколи \[] и скоби () във вашите преводи.
* **НЕ** редактирайте ключа. Редактирайте само стойността
* **НЕ** добавяйте двойни кавички " във всяка от вашите стойности или вероятно ще ги нарушите. Единичните кавички '' са ОК.
* **НЕ** променяйте нещо в игловите скоби <>. Можете да го преместите или да го изтриете изцяло, но не може да бъде преведено.
* Не е възможно да промените командите /quests, /quest и /questadmin чрез езиковите файлове.

Ако някога не сте сигурни дали вашите редакции са правилни или получавате грешки при стартиране, опитайте да използвате онлайн анализатор на YAML, за да проверите вашия езиков файл. Един такъв анализатор може да бъде намерен [тук](http://yaml-online-parser.appspot.com/).

### Форматиране

Можете да поставите всеки от следните токени за форматиране във вашите езикови файлове.

| Токен           | Еквивалентен | Описание                     |
| --------------- | ------------ | ---------------------------- |
| %black%         | §0           | Черен цвят                   |
| %darkblue%      | §1           | Тъмно син цвят               |
| %darkgreen%     | §2           | Тъкмо зелен цвят             |
| %darkaqua%      | §3           | Тъмен аква цвят              |
| %darkred%       | §4           | Тъмно червен цвят            |
| %purple%        | §5           | Тъмно лилав цвят             |
| %gold%          | §6           | Златен цвят                  |
| %gray%          | §7           | Сив (сребрист) цвят          |
| %darkgray%      | §8           | Тъмно сив цвят               |
| %blue%          | §9           | Син цвят                     |
| %green%         | §a           | Зелен цвят                   |
| %aqua%          | §b           | Аква цвят                    |
| %red%           | §c           | Червен цвят                  |
| %pink%          | §d           | Светло лилав (розово) цвят   |
| %yellow%        | §e           | Жълт цвят                    |
| %white%         | §f           | Бял цвят                     |
| %magic%         | §k           | Скрито форматиране           |
| %bold%          | §l           | **BOLD** форматиране         |
| %strikethrough% | §m           | ~~Зачертано~~ форматиране    |
| %underline%     | §n           | Подчертано форматиране       |
| %italic%        | §o           | _Italic_ форматиране         |
| %reset%         | §r           | По подразбиране              |
| %br%            | N/A          | Символ за прекъсване на реда |
| %tab%           | N/A          | Символ тубалация             |
| %rtr%           | N/A          | Символ за връщане на каретка |

Пример за шестнадесетичен цветен формат е `%#c89664%` на съвместими версии.

#### PlaceholderAPI

Започвайки с Quests 3.2.4, [PlaceholderAPI](https://www.spigotmc.org/wiki/placeholderapi/) токените (наричащи се "[placeholders](https://www.spigotmc.org/wiki/placeholderapi-placeholders/)") може да се използва в низове, които вашите играчи обикновено срещат. Администраторските низове, като тези са редакторите на мисии и действия, няма да приемат контейнери. Следното е пример за това как да персонализирате низ с името на играч.

Преди: `journalPutAway: "You put away your Quest Journal."`

След това: `journalPutAway: "You put away %player_name%'s Quest Journal."`

Имайте предвид, че низът "journalTitle" няма да приема контейнери, тъй като разрешаването на токени там би нарушило метаданните на книгата. Ако сте скептични по отношение на това дали даден низ ще приеме заместител, най-добрата практира е просто да го опитате!

### Отстраняване на неизправности

Ако установите, че определени файлове ги няма или цялата папка /lang липсва, уверете се, че разрешенията на вашата папка не ограничават тяхното създаване. Ако сте на Windows, щракнете с десния бутон върху вашата папка /plugins, изберете "Разширени" и след това в раздела "Разширения" изберете "Промяна на разрешенията". Изберете "Добавяне" и в прозореца "Избор на протебител или група" въведете "всички" в текстовото поле. Щракнете върху "Проверка на имената" и след това изберете "ОК". Ако е приложимо, поставете отметка във всички крадратчета "Разреши". Продължете да щраквате върху "ОК", докато всички прозорци се затворят.

Като алтернатива можете да създадете папките ръчно и да изтеглите желаните от вас изокови файлове [тук](https://github.com/PikaMug/Quests/tree/main/core/src/main/resources/lang).
